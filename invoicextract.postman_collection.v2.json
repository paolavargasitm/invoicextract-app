{
	"info": {
		"_postman_id": "a1b2c3d4-e5f6-7890-1234-abcdef123457",
		"name": "InvoiceExtract API V2",
		"description": "Complete API for the InvoiceExtract application, v2 endpoints.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Invoice Management V2",
			"description": "API v2 for managing invoices using the new external payload structure",
			"item": [
				{
					"name": "Create Invoice (v2)",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"DocumentType\": \"Factura\",\n  \"DocumentNumber\": \"F-12345\",\n  \"ReceiverTaxId\": \"900123456-1\",\n  \"ReceiverTaxIdWithoutCheckDigit\": \"900123456\",\n  \"ReceiverBusinessName\": \"Cliente de Ejemplo S.A.S\",\n  \"SenderTaxId\": \"800987654-2\",\n  \"SenderTaxIdWithoutCheckDigit\": \"800987654\",\n  \"SenderBusinessName\": \"Proveedor de Ejemplo S.A.\",\n  \"RelatedDocumentNumber\": null,\n  \"Amount\": \"119000.00\",\n  \"IssueDate\": \"2024-08-15\",\n  \"DueDate\": \"2024-09-14\",\n  \"InvoiceItem\": {\n    \"ItemCode\": \"P001\",\n    \"Description\": \"Producto de Ejemplo\",\n    \"Quantity\": 1,\n    \"Unit\": \"unidad\",\n    \"UnitPrice\": 100000.00,\n    \"Subtotal\": 100000.00,\n    \"TaxAmount\": 19000.00,\n    \"Total\": 119000.00\n  }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/v2/invoices",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v2",
								"invoices"
							]
						}
					},
					"response": []
				},
                {
					"name": "Get All Invoices (v2)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/v2/invoices?includeMetadata=true",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v2",
								"invoices"
							],
							"query": [
								{
									"key": "includeMetadata",
									"value": "true"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Invoice by ID (v2)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/v2/invoices/1",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v2",
								"invoices",
								"1"
							]
						}
					},
					"response": []
				},
                {
					"name": "Search by document number (v2)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/v2/invoices/search/document-number/F-12345",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v2",
								"invoices",
								"search",
								"document-number",
								"F-12345"
							]
						}
					},
					"response": []
				},
                {
					"name": "Get All Invoices Paginated (v2)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/v2/invoices/all/paginated?page=0&size=10&sort=issueDate,desc",
							"host": ["{{baseUrl}}"],
							"path": ["api", "v2", "invoices", "all", "paginated"],
							"query": [
								{"key": "page", "value": "0"},
								{"key": "size", "value": "10"},
								{"key": "sort", "value": "issueDate,desc"}
							]
						}
					},
					"response": []
				},
				{
					"name": "Approve Invoice (v2)",
					"request": {
						"method": "PATCH",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/v2/invoices/1/approve",
							"host": ["{{baseUrl}}"],
							"path": ["api", "v2", "invoices", "1", "approve"]
						}
					},
					"response": []
				},
				{
					"name": "Reject Invoice (v2)",
					"request": {
						"method": "PATCH",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/v2/invoices/1/reject",
							"host": ["{{baseUrl}}"],
							"path": ["api", "v2", "invoices", "1", "reject"]
						}
					},
					"response": []
				},
				{
					"name": "Delete Invoice (v2)",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/v2/invoices/1",
							"host": ["{{baseUrl}}"],
							"path": ["api", "v2", "invoices", "1"]
						}
					},
					"response": []
				},
				{
					"name": "Get Dashboard Stats (v2)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/v2/invoices/dashboard/stats",
							"host": ["{{baseUrl}}"],
							"path": ["api", "v2", "invoices", "dashboard", "stats"]
						}
					},
					"response": []
				},
                {
					"name": "Filter by Email (v2)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/v2/invoices/filter/by-email?email=test@example.com",
							"host": ["{{baseUrl}}"],
							"path": ["api", "v2", "invoices", "filter", "by-email"],
							"query": [{"key": "email", "value": "test@example.com"}]
						}
					},
					"response": []
				},
				{
					"name": "Update Invoice Type (v2)",
					"request": {
						"method": "PATCH",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/v2/invoices/1/update-type?type=ELECTRONIC",
							"host": ["{{baseUrl}}"],
							"path": ["api", "v2", "invoices", "1", "update-type"],
							"query": [{"key": "type", "value": "ELECTRONIC"}]
						}
					},
					"response": []
				},
				{
					"name": "Get Recent Invoices (v2)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/v2/invoices/dashboard/recent",
							"host": ["{{baseUrl}}"],
							"path": ["api", "v2", "invoices", "dashboard", "recent"]
						}
					},
					"response": []
				},
				{
					"name": "Get Invoice Details (v2)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/v2/invoices/details/1",
							"host": ["{{baseUrl}}"],
							"path": ["api", "v2", "invoices", "details", "1"]
						}
					},
					"response": []
				},
				{
					"name": "Check Invoice Exists (v2)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/v2/invoices/exists/by-document-number/F-12345",
							"host": ["{{baseUrl}}"],
							"path": ["api", "v2", "invoices", "exists", "by-document-number", "F-12345"]
						}
					},
					"response": []
				},
                {
					"name": "Filter by Status (v2)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/v2/invoices/filter/by-status?status=PENDING",
							"host": ["{{baseUrl}}"],
							"path": ["api", "v2", "invoices", "filter", "by-status"],
							"query": [{"key": "status", "value": "PENDING"}]
						}
					},
					"response": []
				},
				{
					"name": "Get Stats (v2)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/v2/invoices/stats",
							"host": ["{{baseUrl}}"],
							"path": ["api", "v2", "invoices", "stats"]
						}
					},
					"response": []
				},
				{
					"name": "Get Invoice Metadata (v2)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/v2/invoices/metadata/1",
							"host": ["{{baseUrl}}"],
							"path": ["api", "v2", "invoices", "metadata", "1"]
						}
					},
					"response": []
				}
			]
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:8080/invoicextract",
			"type": "default"
		}
	]
}
